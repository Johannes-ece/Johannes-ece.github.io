"use strict";var m=Object.defineProperty;var k=(T,A)=>m(T,"name",{value:A,configurable:!0});var H=require("./codemirror.cjs.js");function S(T,A){return A.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(g){if(g!=="default"&&!(g in T)){var r=Object.getOwnPropertyDescriptor(e,g);Object.defineProperty(T,g,r.get?r:{enumerable:!0,get:function(){return e[g]}})}})}),Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}k(S,"_mergeNamespaces");var _={exports:{}};(function(T,A){(function(e){e(H.codemirror$1.exports)})(function(e){function g(r){return function(u,a){var n=a.line,o=u.getLine(n);function v(f){for(var l,c=a.ch,h=0;;){var b=c<=0?-1:o.lastIndexOf(f[0],c-1);if(b==-1){if(h==1)break;h=1,c=o.length;continue}if(h==1&&b<a.ch)break;if(l=u.getTokenTypeAt(e.Pos(n,b+1)),!/^(comment|string)/.test(l))return{ch:b+1,tokenType:l,pair:f};c=b-1}}k(v,"findOpening");function P(f){var l=1,c=u.lastLine(),h,b=f.ch,F;e:for(var L=n;L<=c;++L)for(var d=u.getLine(L),p=L==n?b:0;;){var O=d.indexOf(f.pair[0],p),j=d.indexOf(f.pair[1],p);if(O<0&&(O=d.length),j<0&&(j=d.length),p=Math.min(O,j),p==d.length)break;if(u.getTokenTypeAt(e.Pos(L,p+1))==f.tokenType){if(p==O)++l;else if(!--l){h=L,F=p;break e}}++p}return h==null||n==h?null:{from:e.Pos(n,b),to:e.Pos(h,F)}}k(P,"findRange");for(var i=[],t=0;t<r.length;t++){var s=v(r[t]);s&&i.push(s)}i.sort(function(f,l){return f.ch-l.ch});for(var t=0;t<i.length;t++){var y=P(i[t]);if(y)return y}return null}}k(g,"bracketFolding"),e.registerHelper("fold","brace",g([["{","}"],["[","]"]])),e.registerHelper("fold","brace-paren",g([["{","}"],["[","]"],["(",")"]])),e.registerHelper("fold","import",function(r,u){function a(t){if(t<r.firstLine()||t>r.lastLine())return null;var s=r.getTokenAt(e.Pos(t,1));if(/\S/.test(s.string)||(s=r.getTokenAt(e.Pos(t,s.end+1))),s.type!="keyword"||s.string!="import")return null;for(var y=t,f=Math.min(r.lastLine(),t+10);y<=f;++y){var l=r.getLine(y),c=l.indexOf(";");if(c!=-1)return{startCh:s.end,end:e.Pos(y,c)}}}k(a,"hasImport");var n=u.line,o=a(n),v;if(!o||a(n-1)||(v=a(n-2))&&v.end.line==n-1)return null;for(var P=o.end;;){var i=a(P.line+1);if(i==null)break;P=i.end}return{from:r.clipPos(e.Pos(n,o.startCh+1)),to:P}}),e.registerHelper("fold","include",function(r,u){function a(i){if(i<r.firstLine()||i>r.lastLine())return null;var t=r.getTokenAt(e.Pos(i,1));if(/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(i,t.end+1))),t.type=="meta"&&t.string.slice(0,8)=="#include")return t.start+8}k(a,"hasInclude");var n=u.line,o=a(n);if(o==null||a(n-1)!=null)return null;for(var v=n;;){var P=a(v+1);if(P==null)break;++v}return{from:e.Pos(n,o+1),to:r.clipPos(e.Pos(v))}})})})();var I=_.exports,$=S({__proto__:null,default:I},[_.exports]);exports.braceFold=$;
//# sourceMappingURL=brace-fold.cjs.js.map
