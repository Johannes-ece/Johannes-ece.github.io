{"version":3,"file":"hint.cjs.js","sources":["../../codemirror-graphql/esm/hint.js"],"sourcesContent":["import CodeMirror from 'codemirror';\nimport 'codemirror/addon/hint/show-hint';\nimport { getAutocompleteSuggestions, Position } from 'graphql-language-service';\nCodeMirror.registerHelper('hint', 'graphql', (editor, options) => {\n    const { schema, externalFragments } = options;\n    if (!schema) {\n        return;\n    }\n    const cur = editor.getCursor();\n    const token = editor.getTokenAt(cur);\n    const tokenStart = token.type !== null && /\"|\\w/.test(token.string[0])\n        ? token.start\n        : token.end;\n    const position = new Position(cur.line, tokenStart);\n    const rawResults = getAutocompleteSuggestions(schema, editor.getValue(), position, token, externalFragments);\n    const results = {\n        list: rawResults.map(item => ({\n            text: item.label,\n            type: item.type,\n            description: item.documentation,\n            isDeprecated: item.isDeprecated,\n            deprecationReason: item.deprecationReason,\n        })),\n        from: { line: cur.line, ch: tokenStart },\n        to: { line: cur.line, ch: token.end },\n    };\n    if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n        results.from = CodeMirror.Pos(results.from.line, results.from.ch);\n        results.to = CodeMirror.Pos(results.to.line, results.to.ch);\n        CodeMirror.signal(editor, 'hasCompletion', editor, results, token);\n    }\n    return results;\n});\n//# sourceMappingURL=hint.js.map"],"names":["CodeMirror","Position","getAutocompleteSuggestions"],"mappings":"qMAGAA,EAAU,WAAC,eAAe,OAAQ,UAAW,CAAC,EAAQ,IAAY,CAC9D,KAAM,CAAE,SAAQ,qBAAsB,EACtC,GAAI,CAAC,EACD,OAEJ,KAAM,GAAM,EAAO,YACb,EAAQ,EAAO,WAAW,CAAG,EAC7B,EAAa,EAAM,OAAS,MAAQ,OAAO,KAAK,EAAM,OAAO,EAAE,EAC/D,EAAM,MACN,EAAM,IACN,EAAW,GAAIC,GAAQ,SAAC,EAAI,KAAM,CAAU,EAE5C,EAAU,CACZ,KAAM,AAFSC,6BAA2B,EAAQ,EAAO,SAAQ,EAAI,EAAU,EAAO,CAAiB,EAEtF,IAAI,GAAS,EAC1B,KAAM,EAAK,MACX,KAAM,EAAK,KACX,YAAa,EAAK,cAClB,aAAc,EAAK,aACnB,kBAAmB,EAAK,iBACpC,EAAU,EACF,KAAM,CAAE,KAAM,EAAI,KAAM,GAAI,CAAY,EACxC,GAAI,CAAE,KAAM,EAAI,KAAM,GAAI,EAAM,GAAK,CAC7C,EACI,MAAK,IAAY,KAA6B,OAAS,EAAQ,OAAS,EAAQ,KAAK,OAAS,GAC1F,GAAQ,KAAOF,aAAW,IAAI,EAAQ,KAAK,KAAM,EAAQ,KAAK,EAAE,EAChE,EAAQ,GAAKA,aAAW,IAAI,EAAQ,GAAG,KAAM,EAAQ,GAAG,EAAE,EAC1DA,EAAU,WAAC,OAAO,EAAQ,gBAAiB,EAAQ,EAAS,CAAK,GAE9D,CACX,CAAC"}